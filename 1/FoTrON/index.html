
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.5.4">
    
    
      
        <title>1/FoTrON - Open Specifications for Folded Tree Object Notation (FoTrON)</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-b1a1975878.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-f78e5cb881.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="cyan" data-md-color-accent="light-green">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="../.." title="Open Specifications for Folded Tree Object Notation (FoTrON)" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Drafts
                </span>
              
            
            1/FoTrON
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
            


  


  <a href="https://github.com/FoTrON/rfc" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      FoTrON
    </div>
  </a>

          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Open Specifications for Folded Tree Object Notation (FoTrON)
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/FoTrON/rfc" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      FoTrON
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Open Specifications for Folded Tree Object Notation (FoTrON)" class="md-nav__link">
      Open Specifications for Folded Tree Object Notation (FoTrON)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../LICENSE/" title="LICENSE" class="md-nav__link">
      LICENSE
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Drafts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Drafts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
    <a href="./" title="1/FoTrON" class="md-nav__link md-nav__link--active">
      1/FoTrON
    </a>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2/RFoTrON/" title="2/RFoTrON" class="md-nav__link">
      2/RFoTrON
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <p>FOlded TRee Object Notation (FoTrON) is a simple fast compact user-readable binary-safe extensible structural format, aimed at readability and extensionability.</p>
<ul>
<li>Domain: FoTrON.github.io/rfc</li>
<li>Shortname: 1/FoTrON</li>
<li>Name: FOlded TRee Object Notation</li>
<li>status: draft</li>
<li>editor: Pavel Pletenev <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#99;&#112;&#112;&#46;&#99;&#114;&#101;&#97;&#116;&#101;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">&#99;&#112;&#112;&#46;&#99;&#114;&#101;&#97;&#116;&#101;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;</a></li>
<li>contributors: Dmitrii Karloskii <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#110;&#105;&#110;&#45;&#106;&#105;&#110;&#64;&#121;&#97;&#46;&#114;&#117;">&#110;&#105;&#110;&#45;&#106;&#105;&#110;&#64;&#121;&#97;&#46;&#114;&#117;</a></li>
</ul>
<h2 id="license">License</h2>
<p>Copyright (c) 2017 Pavel Pletenev.</p>
<p>This Specification is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version.</p>
<p>This Specification is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program; if not, see http://www.gnu.org/licenses.</p>
<h2 id="language">Language</h2>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="http://tools.ietf.org/html/rfc2119">RFC 2119</a>.</p>
<h2 id="goals">Goals</h2>
<p>FOlded TRee Object Notation (FoTrON) is a simple fast compact user-readable binary-safe extensible structural format, aimed at readability and extensionability.
FoTrON is aimed to be a more human-readable and human-writeable object notation. This is archived with use of structural whitespaces and almost verbatim binary storage. FoTrON does not define any type system. Everything is stored as raw bytes. It can store without any encoding other serialization notations such as JSON, XML or YAML.</p>
<h2 id="description">Description</h2>
<p>FoTrON is described in a following ABNF.</p>
<div class="codehilite"><pre><span></span><span class="nc">tree</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="nc">line</span> | <span class="nc">data-line</span><span class="p">)</span>

<span class="nc">line</span> <span class="o">=</span> <span class="o">*</span><span class="nc">indent</span> <span class="p">[</span><span class="nc">names</span><span class="p">]</span> <span class="p">[</span><span class="nc">data</span><span class="p">]</span> <span class="nc">new-line</span>
<span class="nc">data-line</span> <span class="o">=</span> <span class="o">*</span><span class="nc">indent</span> <span class="nc">data</span> <span class="nc">new-line</span>

<span class="nc">names</span> <span class="o">=</span> <span class="nc">name</span> <span class="o">*</span><span class="p">(</span><span class="nc">space</span> <span class="nc">name</span><span class="p">)</span>
<span class="c1">;name = byte except special</span>
<span class="nc">name</span> <span class="o">=</span> <span class="nc">non-special</span>

<span class="nc">data</span> <span class="o">=</span> <span class="nc">data-prefix</span> <span class="nc">data-bytes</span> <span class="nc">new-line</span>
<span class="nc">data-bytes</span> <span class="o">=</span> <span class="o">*</span><span class="nc">data-byte</span>
<span class="c1">;data-byte = byte except new-line</span>
<span class="nc">data-byte</span> <span class="o">=</span> <span class="nc">non-special</span> | <span class="nc">data-prefix</span> | <span class="nc">indent</span> | <span class="nc">space</span>

<span class="nc">special</span> <span class="o">=</span> <span class="nc">new-line</span> | <span class="nc">data-prefix</span> | <span class="nc">indent</span> | <span class="nc">space</span>
<span class="nc">non-special</span> <span class="o">=</span> <span class="l">%x00-08</span> | <span class="l">%x0B-19</span> | <span class="l">%x21-5B</span> | <span class="l">%x5D-FF</span>
<span class="nc">indent</span> <span class="o">=</span> <span class="l">%x09</span>
<span class="nc">new-line</span> <span class="o">=</span> <span class="l">%x0A</span>
<span class="nc">data-prefix</span> <span class="o">=</span> <span class="l">%x5C</span>
<span class="nc">space</span> <span class="o">=</span> <span class="l">%x20</span>
</pre></div>


<h3 id="other-requirements">Other requirements</h3>
<ol>
<li>A tree node SHOULD be represented as a record containing name, data and a list of child nodes. The name field is parsed from <code>name</code> non-terminal, value is parsed from <code>data-bytes</code> non-terminal.</li>
<li>Two adjacent <code>name</code> MUST become parent and child. Left <code>name</code> becomes parent, right <code>name</code> becomes child.</li>
<li>A node from <code>line</code> is a node with rightmost name.</li>
<li>Any leftmost tree nodes from <code>line</code> with non-zero indent length MUST become children of node from <code>line</code> with indent length less by one.</li>
<li>Values from any adjacent <code>data-line</code> with equal <code>indent</code> MUST be united in one value with <code>new-line</code> between.</li>
</ol>
<h1 id="examples">Examples</h1>
<div class="codehilite"><pre><span></span>access
    time \2035-28-07 13:08:24
    url \/favicon.png
    ip \8.8.8.8
access
    time \2035-28-07 13:08:26
    url \/favicon.ico
    ip \8.8.8.8
</pre></div>


<p>This structure SHOULD be parsed to the following structure:</p>
<div class="codehilite"><pre><span></span><span class="n">TreeNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span>
    <span class="n">TreeNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;access&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span>
        <span class="n">TreeNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;2035-28-07 13:08:24&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[]),</span>
        <span class="n">TreeNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;url&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;/favicon.png&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[]),</span>
        <span class="n">TreeNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;ip&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;8.8.8.8&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[])]),</span>
    <span class="n">TreeNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;access&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span>
        <span class="n">TreeNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;2035-28-07 13:08:26&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[]),</span>
        <span class="n">TreeNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;url&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;/favicon.ico&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[]),</span>
        <span class="n">TreeNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;ip&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;8.8.8.8&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[])])])</span>
</pre></div>


<h2 id="references-and-implementations">References and implementations</h2>
<ol>
<li>FoTrON was introduced by Dmitrii in a <a href="http://habrahabr.ru/post/248147/">russian article on HabraHabr</a></li>
<li>FoTrON has an example implementation in D programming language - <a href="https://github.com/nin-jin/tree.d">nin-jin/tree.d</a>. </li>
</ol>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../LICENSE/" title="LICENSE" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                LICENSE
              </span>
            </div>
          </a>
        
        
          <a href="../../2/RFoTrON/" title="2/RFoTrON" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                2/RFoTrON
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-0b7df094bf.js"></script>
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>